<link rel="import" href="components/polymer/polymer.html">
<link rel="import" href="components/paper-button/paper-button.html">

<dom-module id="paper-share-facebook">
  <style>
    #button {
      color: #4B65BE;
    }

    #button[raised] {
      background: #4B65BE;
      color: white;
    }
  </style>

  <template>
    <paper-button
      id="button"
      on-click="navigate"
      raised$={{raised}}
      noink$={{noink}}>
      Facebook
    </paper-button>
  </template>
</dom-module>

<script>
  Polymer({
    /**
     * Element Prototype
     */
    is: 'paper-share-facebook',

    /**
     * Element properties
     */
    properties: {
      href: {
        type: String,
        value: window.location.href
      },

      url: {
        type: String,
        computed: 'computeUrl(href)'
      },

      raised: {
        type: Boolean,
        reflectToAttribute: true
      },

      noink: {
        type: Boolean,
        reflectToAttribute: true
      }
    },

    /**
     * Concat the share url
     */
    computeUrl: function(href) {
      return 'https://www.facebook.com/sharer/sharer.php?u=' + href;
    },

    /**
     * Navigate to the social authorization
     */
    navigate: function() {
      window.open(this.url, 'facebook-share', 'width=580,height=296');
      return false;
    }
  });
</script>
